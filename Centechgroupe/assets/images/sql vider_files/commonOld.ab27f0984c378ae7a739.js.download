(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ANTI_ALIASING_MARGIN=100,t.CONFIG={BUBBLE_COUNT:20,RADIUS_SIZE_CALIBRATION_REFERENCE:680,RADIUS:{MIN:30,MAX:100},BLUR:{MIN:2,MAX:7},SPEED:{MIN:8,MAX:13},OPACITY:{MIN:.1,MAX:.17},EXPIRATION_DELAY:{MIN:15,MAX:20},COLORS:[{r:255,g:187,b:126},{r:237,g:191,b:255},{r:223,g:241,b:255},{r:255,g:255,b:255}],SHOULD_AVOID_BORDER:{TOP:!1,RIGHT:!1,BOTTOM:!0,LEFT:!1},CANVAS_SIZE_OFFSET:{WIDTH:0,HEIGHT:40},OPACITY_TRANSITION_DURATION:10}},1334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MILLISECONDS_IN_ONE_SECOND=1e3},1625:function(e,t,n){"use strict";n(1626),n(2331),n(2332),n(2333),n(2334),n(2335),n(2336),n(2337),n(2338)},1626:function(e,t,n){"use strict";var a=r(n(0)),i=r(n(340)),o=r(n(323));function r(e){return e&&e.__esModule?e:{default:e}}var s=a.default.extend({},o.default);s.add=function(e,t,n){var r,s=e[0],u=(0,a.default)(s);r=u.data("initial-value"),o.default.isElementInited(s)?n():i.default.create({onReady:function(){r&&u.val(r),"function"==typeof n&&n()}},s)},window._define("bridge/modules/tinymce",s)},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(12)),o=s(n(0)),r=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}var u=".loader";function l(e,t,n){!function(e,t){var n,a,i={top:0,bottom:0,left:0,right:0};t&&t.elementToAttach?(n=(0,o.default)(t.elementToAttach),a=n.offset(),i.top=a.top,i.left=a.left,e.width(n.outerWidth()).height(n.outerHeight()).css("position","absolute").css("display","inline-block")):e.width("").height("").css("position","fixed");e.css(i)}(e,n),function(e,t){var n=t&&!0===t.invisibleBackground,a=t&&!0===t.loadingCursor,i=t&&!0===t.whiteSemiTransparentBackground,r=t&&!0===t.iconLoader;e.toggleClass("is-transparent",n),e.toggleClass("is-loading",a),e.toggleClass("is-white",i),r?(0,o.default)(u,e).fadeIn(1e3):(0,o.default)(u,e).hide()}(e,n),void 0===t?e.toggle():e[t?"show":"hide"]()}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i.default.uniqueId(),this.options=t,i.default.isNil(this.options.loaderText)&&(this.options.loaderText=r.default._("global.word.loading"))}return a(e,[{key:"get",value:function(){var e,t=(0,o.default)(".js-overlay"+this.id);t.length||(t=(0,o.default)("<div>").hide().prependTo((0,o.default)("body")).addClass("overlay").addClass("js-overlay"+this.id).prepend((e=this.options.loaderText,(0,o.default)('<div class="loader">   <span>       <i class="icon-spinner icon-spinner icon-spin"></i> '+e+"   </span></div>"))),this.options.loaderMargin&&t.find(u).addClass("margin"));return t}},{key:"open",value:function(){l(this.get(),!0,this.options)}},{key:"close",value:function(){l(this.get(),!1)}},{key:"toggle",value:function(e){l(this.get(),e,this.options)}}]),e}();t.default=c},229:function(e,t,n){"use strict";var a,i=n(483),o=n(65),r=n(7),s=(a=r)&&a.__esModule?a:{default:a};App.build={},App.build.branch="OC-13531_course_exercise_coverage",App.build.date="2019-05-15T09:27:53.448Z",i.errorTracker.use(i.sentry),i.errorTracker.install({user:(0,o.getCurrentUserFromGlobal)(),release:App.build.branch});var u=s.default.window;u.jQuery=n(0),u.$=u.jQuery,u.babelHelpers=n(228),n(338),n(339);var l=n(85).default;n(1625),n(320),l.launch(n(2341),n(2343),n(2344),n(2345),n(2346),n(2347),n(2348),n(2349),n(2350),n(2351),n(2352),n(602),n(462),n(774),n(947),n(798),n(1330),n(2369),n(996),n(2392),n(2397),n(2399),n(2400),n(2401),n(2408),n(1286),n(1336),n(617)),n(355)},2331:function(e,t,n){"use strict";var a=n(623);window._define("bridge/popin",{open:a.openPopin})},2332:function(e,t,n){"use strict";var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(221);window._define("bridge/media/video",o.default.extend({},r))},2333:function(e,t,n){"use strict";var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(1128);window._define("bridge/media/video/thumbnail",o.default.extend({},r))},2334:function(e,t,n){"use strict";var a=n(331);window._define("bridge/widgets/foldable",function(){return a})},2335:function(e,t,n){"use strict";var a=n(345);window._define("bridge/widgets/calendarSelect",function(){return a})},2336:function(e,t,n){"use strict";var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(587),s=o.default.extend({},r);s.smilize=function(e,t){r.smilize(e),(0,o.default)(e).each(function(e,n){(0,o.default)("img.smilies",n).each(function(e,n){var a=(0,o.default)(n);"function"!=typeof t||a.data("smileyProcessed")||(t(n,n.alt),a.data("smileyProcessed",!0))})})},window._define("bridge/smiley",s)},2337:function(e,t,n){"use strict";var a=n(624);window._define("bridge/trapFocus",a)},2338:function(e,t,n){"use strict";var a=n(2339);window._define("bridge/segment",a)},2339:function(e,t,n){"use strict";var a={getEventsFromPage:n(2340)};e.exports=a},2340:function(e,t,n){"use strict";var a=n(0);e.exports=function(){var e={},t=[],n=null;return a('script[type="application/json"][id^="_EVENTS-"]').each(function(t,i){try{(i=JSON.parse(a(i).html())).autoEnvoyer={SegmentIO:!0},e[i.type]||(e[i.type]=[]),"identify"===i.type?n="_EVENTS-IDENTIFY"===this.id?i:a.extend(!0,n,i):e[i.type].push(i)}catch(e){}}),n&&e.identify.push(n),["reset","page","alias","identify","track"].forEach(function(n){e[n]&&(t=t.concat(e[n]))}),t}},2341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2342),o=(a=i)&&a.__esModule?a:{default:a};t.default=function(){o.default.warn(window.console.log)}},2342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LINK_STYLE=t.MESSAGE_STYLE=t.TITLE_STYLE=void 0;var a=n(18),i=t.TITLE_STYLE="color: red; background: yellow; font-size: 24px;",o=t.MESSAGE_STYLE="color: black; font-size: 18px;",r=t.LINK_STYLE="color: black; font-style: italic; font-size: 12px;";t.default={warn:function(e){e("%c%s",i,(0,a.translate)("global.warning.self_xss.title")),e("%c%s",o,(0,a.translate)("global.warning.self_xss.message")),e("%c%s",r,(0,a.translate)("global.warning.self_xss.link"))}}},2343:function(e,t,n){"use strict";var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(346);e.exports.init=function(){var e=(0,o.default)("#oc-header");e.length&&r.create(e)}},2344:function(e,t,n){"use strict";var a,i=n(7),o=(a=i)&&a.__esModule?a:{default:a};var r=n(587);e.exports.init=function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.default.document.querySelectorAll(".js-smilize"))).forEach(r.smilize)}},2345:function(e,t,n){"use strict";var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(35),s=n(331),u=[];e.exports.init=function(){(0,o.default)(".js-foldable").each(function(e,t){u.push(s.create(t))}),r.registerOnChangeCallback(function(e){u.forEach(function(t){t.options.mobileOnly&&t.forceOpen("small"!==e)})}),setTimeout(function(){var e,t=window.location.hash;if(t)try{(e=(0,o.default)(t)).length>0&&e.data("OC-foldable")&&e.foldable("open")}catch(e){}},250)}},2346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(995));t.default={init:function(){(0,o.default)(".js-elementViewedEvent").each(function(e,t){r.publishEnterViewportForElement(t)})}}},2347:function(e,t,n){"use strict";var a,i=n(0);a=function(){i(document).on("pjax:start pjax:end",function(){i(".js-dashboardTabs a").parent("li").removeClass("tab__item--selected"),i(".js-dashboardTabs").find('a[href$="'+window.location.pathname+'"]').parent("li").addClass("tab__item--selected")})},e.exports.init=a},2348:function(e,t,n){"use strict";var a=n(0);n(347),e.exports.name="slidingItem",e.exports.init=function(){a(function(){var e=a(".js-slidingItem");e.length>0&&"function"==typeof e.slidingItem&&e.slidingItem()})}},2349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),i=s(n(7)),o=s(n(227)),r=s(n(85));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ajaxlink",init:function(){if((0,a.default)(".js-pjax").length){var e=void 0;(0,a.default)(i.default.document).on("click","a.js-pjax",function(t){var n=(0,a.default)(this).attr("data-pjax-container");e=new o.default({elementToAttach:(0,a.default)(n),loadingCursor:!0,whiteSemiTransparentBackground:!0,iconLoader:!0}),a.default.pjax.click(t,{scrollTo:!1,timeout:1e4,container:n}),e.open()}),(0,a.default)(i.default.document).on("pjax:end",function(t){var n=(0,a.default)(t.currentTarget.activeElement).attr("data-pjax-modules-refresh"),i=[];void 0!==n&&(i=(n=n.replace(" ","")).split(",")),r.default.launch(i),e&&e.close()})}}}},2350:function(e,t,n){"use strict";var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(348);e.exports.init=function(){var e=(0,o.default)(".js-contentWithSidebar");e.length>0&&r.create(e)}},2351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(7),o=(a=i)&&a.__esModule?a:{default:a},r=n(623);t.default={init:function(){var e=".js-popin-activator",t=function(e,t){var n=function(e){var t=void 0;return e.href&&(t=e.href.match(/(#.*)/))?t[1]:e.getAttribute("data-popin-selector")}(t);o.default.document.querySelector(n)&&(e.preventDefault(),(0,r.openPopin)(n,{activatorElement:t}))};o.default.document.addEventListener("click",function(n){n.target.matches(e+", "+e+" *")&&t(n,n.target.closest(e))}),o.default.document.addEventListener("keydown",function(n){if(n.target.matches(e+", "+e+" *")){var a=n.keyCode;[13,32].includes(a)&&t(n,n.target.closest(e))}})}}},2352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(0)),i=f(n(349)),o=f(n(350)),r=f(n(326)),s=f(n(351)),u=f(n(226)),l=f(n(352)),c=f(n(353)),d=f(n(354));function f(e){return e&&e.__esModule?e:{default:e}}var h=[{name:"autostartFullScreenVideo",widget:i.default},{name:"checkEnableInput",widget:o.default},{name:"immersiveVideo",widget:r.default},{name:"wysiwyg",widget:s.default},{name:"autocomplete",widget:u.default},{name:"choiceForm",widget:l.default},{name:"ajaxUpload",widget:c.default},{name:"socialButtons",widget:d.default}];t.default={name:"uiWidgetInitializer",init:function(){h.forEach(function(e){var t=e.name,n=e.widget;(0,a.default)(".js-"+t).each(function(e,t){try{n.create(t)}catch(e){}})})}}},2369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(2)),i=s(n(311)),o=n(2370),r=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=function(e){var t=document.createElement("span");return e.parentNode.insertBefore(t,e),t}(e);i.default.render(a.default.createElement(r.default,{textarea:e}),t),e.parentNode.removeChild(e)}t.default=function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.querySelectorAll('textarea[data-component="'+o.DIRECTIVE_VALUE+'"]'))).forEach(u)}},2370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2371);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}}),Object.defineProperty(t,"DIRECTIVE_VALUE",{enumerable:!0,get:function(){return a.DIRECTIVE_VALUE}})},2371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECTIVE_VALUE=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=r(n(2)),o=r(n(2372));function r(e){return e&&e.__esModule?e:{default:e}}var s={textarea:function(e,t,n){if(!(e[t]instanceof window.HTMLTextAreaElement))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed.")}};t.DIRECTIVE_VALUE="textarea-counter";function u(e){var t=e.textarea,n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.attributes)).filter(l).reduce(c,{});return i.default.createElement(o.default,n,t.value)}function l(e){return"data-component"!==e.name&&e.nodeValue}function c(e,t){return a({},e,(n={},r=t.name,i={maxlength:"maxLength",class:"className"}[r]||r,o=t.nodeValue,i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n));var n,i,o,r}u.propTypes=s,u.defaultProps={textarea:null},t.default=u},2372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2373);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},2373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaCounter=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(2)),r=l(n(3)),s=n(18),u=l(n(64));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.TextareaCounter=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(){n.setState({remainingCharacters:n.getRemainingCharacters()}),n.props.onChange(n.getValue())},n.init=function(e){return n.textarea=e},n.textarea=null,n.state={remainingCharacters:n.getRemainingCharacters()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"getRemainingCharacters",value:function(){return this.props.maxLength?+this.props.maxLength-this.getValue().length:1/0}},{key:"getValue",value:function(){return this.textarea?this.textarea.value:this.props.children}},{key:"renderCounter",value:function(){if(!this.props.maxLength)return null;var e={total:this.state.remainingCharacters},t=this.props.i18n.translate("global.forms.remaining_characters",e);return o.default.createElement("span",{className:"textareaCounter__counter"},t)}},{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,i=e.children,r=e.label,s=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["className","children","label"]);return o.default.createElement("span",{className:"textareaCounter"},o.default.createElement("span",null,o.default.createElement("div",{className:"textareaCounter__label"},r),o.default.createElement("textarea",a({className:"textareaCounter__textarea "+n,onKeyDown:this.onChange,onKeyUp:this.onChange,onChange:this.onChange,ref:this.init,defaultValue:i},(0,u.default)(s,["i18n","onChange"]))),this.renderCounter()))}}]),t}();c.propTypes={children:r.default.string,className:r.default.string,i18n:r.default.object,label:r.default.string,maxLength:r.default.string,onChange:r.default.func},c.defaultProps={children:"",className:"",i18n:{},label:"",maxLength:null,onChange:function(){}},t.default=(0,s.localize)(c)},2392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(695),o=(a=i)&&a.__esModule?a:{default:a};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default=function(){var e=document.querySelectorAll(".js-userContent");e&&[].concat(r(e)).forEach(function(e){[].concat(r(e.querySelectorAll("table"))).forEach(function(e){var t=document.createElement("div");t.classList.add("tableContainer"),e.parentNode.insertBefore(t,e),t.appendChild(e)}),e.hasAttribute("data-javascript-enabled")&&(0,o.default)({container:e})})}},2397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(13));t.addLanguageChangeListener=s;var i=r(n(7)),o=r(n(1332));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n,i=this;e&&t&&t.addEventListener("change",(n=a.default.mark(function n(){return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.default.services.updateFormToken(e);case 2:e.action=e.action.replace(/:lang/,t.value),e.submit();case 4:case"end":return n.stop()}},n,i)}),function(){var e=n.apply(this,arguments);return new Promise(function(t,n){return function a(i,o){try{var r=e[i](o),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});t(s)}("next")})}))}t.default={init:function(){s(i.default.document.getElementById("footerChangeLanguageContainer"),i.default.document.getElementById("footerChangeLanguage"))}}},2399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(999),o=(a=i)&&a.__esModule?a:{default:a},r=n(18);t.default=function(){[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.querySelectorAll('[data-component="clipboardCopy"]'))).forEach(function(e){var t=e.getAttribute("data-clipboard-text");o.default.enableCopyToElement(e,t),e.innerHTML=(0,r.translate)("global.action.copy_url"),e.addEventListener("click",function(){e.innerHTML=(0,r.translate)("global.action.copy_url_done")})})}},2400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(7),o=(a=i)&&a.__esModule?a:{default:a};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t,n,a,i,s,u){t.forEach(function(t,l){var c=o.default.document.getElementById(t),d=!!e.value.match(new RegExp(a[l]));c.classList.toggle(n[l],d),[].concat(r(c.querySelectorAll("input")),r(c.querySelectorAll("option"))).forEach(function(e){var t=e;d&&i&&(t.value=""),d&&s?t.disabled="true":t.removeAttribute("disabled"),d&&u&&(t.checked="true")})})}t.default=function(){[].concat(r(o.default.document.querySelectorAll(".js-class-toggler"))).forEach(function(e){var t=JSON.parse(e.getAttribute("data-class-toggler-targets-ids")),n=JSON.parse(e.getAttribute("data-class-toggler-matchers")),a=JSON.parse(e.getAttribute("data-class-toggler-classNames")),i="true"===e.getAttribute("data-class-toggler-shouldCleanTargetValueOnMatch"),o="true"===e.getAttribute("data-class-toogler-shouldDisableTarget"),r="true"===e.getAttribute("data-class-toogler-shouldCheckTarget");s(e,t,a,n,i,o,r),e.addEventListener("change",function(){s(e,t,a,n,i,o,r)})})}},2401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(2402),o=n(1333),r=n(2404),s=c(r),u=c(n(2407)),l=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=/^((?!chrome|android).)*safari/i.test(l.default.window.navigator.userAgent),t=l.default.window.navigator.userAgent.match(/Trident\/7\./);e||t||[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l.default.document.querySelectorAll('[data-component="bubbles"]'))).forEach(function(e){var t=l.default.document.createElement("canvas"),n=t.getContext("2d");e.insertAdjacentElement("afterbegin",t),t.style.position="absolute",t.width=e.offsetWidth+o.CONFIG.CANVAS_SIZE_OFFSET.WIDTH,t.height=e.offsetHeight+o.CONFIG.CANVAS_SIZE_OFFSET.HEIGHT,l.default.window.addEventListener("resize",function(){t.width=e.offsetWidth+o.CONFIG.CANVAS_SIZE_OFFSET.WIDTH,t.height=e.offsetHeight+o.CONFIG.CANVAS_SIZE_OFFSET.HEIGHT});for(var c=function(){return{width:t.width,height:t.height}},d=new s.default(a({},o.CONFIG,{getCanvasDimension:c,onExpiration:function(e){delete r.bubbles[e],u.default.deleteCachedCanvasById(e),this.create()}})),f=0;f<o.CONFIG.BUBBLE_COUNT;f++)d.create();!function e(t,n,a,o){if(i.smartService.isInViewport(t)){var s=o(),c=Date.now(),d=c-a;a=c,n.clearRect(0,0,s.width,s.height),Object.keys(r.bubbles).forEach(function(e){return r.bubbles[e].update(d)}),Object.keys(r.bubbles).forEach(function(e){return u.default.renderBubble(n,r.bubbles[e])}),l.default.window.requestAnimationFrame(function(){return e(t,n,a,o)})}else l.default.window.requestAnimationFrame(function(){return e(t,n,a,o)})}(t,n,Date.now(),c)})}},2402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2403);Object.defineProperty(t,"smartService",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},2403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoxPropType=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getBox=u,t.areInCollision=l,t.isBoxInCollisionWithAtLeastOneBox=c,t.isBoxFullyIncludedInContainer=d,t.getBoxOnTop=f,t.getBoxOnBottom=h,t.getBoxOnRight=p,t.getBoxOnLeft=g,t.isInViewport=m;var i=r(n(3)),o=r(n(7));function r(e){return e&&e.__esModule?e:{default:e}}var s=t.BoxPropType=i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired});function u(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,x:t.left+window.pageXOffset,y:t.top+window.pageYOffset}}function l(e,t){return!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)}function c(e,t){return t.some(function(t){return l(e,t)})}function d(e,t){return e.x>=t.x&&e.x+e.width<=t.x+t.width&&e.y>=t.y&&e.y+e.height<=t.y+t.height}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=a({},e),o=t.width/2-i.width/2,r=i.height+n;return i.x=t.x+o,i.y=t.y-r,i}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=a({},e),o=t.width/2-i.width/2,r=t.height+n;return i.x=t.x+o,i.y=t.y+r,i}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=a({},e),o=t.width+n,r=t.height/2-i.height/2;return i.x=t.x+o,i.y=t.y+r,i}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=a({},e),o=e.width+n,r=t.height/2-i.height/2;return i.x=t.x-o,i.y=t.y+r,i}function m(e){var t=e.getBoundingClientRect(),n=o.default.window;return t.top<=n.innerHeight&&t.top+t.height>=0&&t.left<=n.innerWidth&&t.left+t.width>=0}t.default={BoxPropType:s,getBox:u,getBoxOnTop:f,getBoxOnBottom:h,getBoxOnRight:p,getBoxOnLeft:g,areInCollision:l,isBoxInCollisionWithAtLeastOneBox:c,isBoxFullyIncludedInContainer:d,isInViewport:m}},2404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bubbles=void 0;var a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2405),r=(a=o)&&a.__esModule?a:{default:a},s=n(2406),u=n(1334);var l=t.bubbles={},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.option=t,this.option.onExpiration=this.option.onExpiration.bind(this)}return i(e,[{key:"create",value:function(){var e=this.option,t=e.getCanvasDimension(),n=Math.random()*Math.PI*2,a={x:Math.cos(n),y:Math.sin(n)},i=Math.min(t.width,t.height)/e.RADIUS_SIZE_CALIBRATION_REFERENCE,o=(0,s.randomMinMax)(e.RADIUS.MIN,e.RADIUS.MAX)*i,c=(o-e.RADIUS.MIN)/(e.RADIUS.MAX-e.RADIUS.MIN),d=(0,s.lerp)(e.BLUR.MIN,e.BLUR.MAX,Math.abs(c)),f=(0,s.lerp)(e.OPACITY.MIN,e.OPACITY.MAX,Math.abs(c-1)),h=2*o,p=h*+e.SHOULD_AVOID_BORDER.TOP,g=h*+e.SHOULD_AVOID_BORDER.RIGHT,m=h*+e.SHOULD_AVOID_BORDER.BOTTOM,v=h*+e.SHOULD_AVOID_BORDER.LEFT,b=new r.default({position:{x:v+Math.floor(Math.random()*(t.width-v-g)),y:p+Math.floor(Math.random()*(t.height-p-m))},direction:a,color:e.COLORS[Math.floor(Math.random()*e.COLORS.length)],blur:d,radius:o,opacity:f,opacityTransitionDuration:e.OPACITY_TRANSITION_DURATION*u.MILLISECONDS_IN_ONE_SECOND,speed:(0,s.randomMinMax)(e.SPEED.MIN,e.SPEED.MAX)*i,expirationDelay:(0,s.randomMinMax)(e.EXPIRATION_DELAY.MIN,e.EXPIRATION_DELAY.MAX)*u.MILLISECONDS_IN_ONE_SECOND,onExpiration:function(){e.onExpiration(this.getId())}});l[b.getId()]=b}}]),e}();t.default=c},2405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1334);var o=function(){function e(t){var n=t.position,a=t.direction,i=t.color,o=t.radius,r=t.blur,s=t.speed,u=t.opacity,l=t.opacityTransitionDuration,c=t.expirationDelay,d=t.onExpiration;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=e.lastId,e.lastId++,this.creationDate=Date.now(),this.position=n,this.direction=a,this.color=i,this.radius=o,this.blur=r,this.speed=s,this.opacity=0,this.opacityTransitionDuration=l,this.expirationDelay=c,this.onExpiration=d.bind(this),this.initialOpacity=u,this.hasCallExpirationCallback=!1}return a(e,[{key:"getId",value:function(){return this.id}},{key:"getDurationSinceCreation",value:function(){return Date.now()-this.creationDate}},{key:"updatePosition",value:function(e){var t=this.speed*e/i.MILLISECONDS_IN_ONE_SECOND;this.position.x+=this.direction.x*t,this.position.y+=this.direction.y*t}},{key:"updateOpacity",value:function(){var e=this.getDurationSinceCreation(),t=this.expirationDelay-this.opacityTransitionDuration,n=e<this.opacityTransitionDuration;if(e>t){var a=Math.abs((e-t)/this.opacityTransitionDuration-1);this.opacity>a&&(this.opacity=a)}else if(n){var i=Math.abs((this.opacityTransitionDuration-e)/this.opacityTransitionDuration-1);this.opacity<i&&this.opacity<this.initialOpacity&&(this.opacity=i)}}},{key:"update",value:function(e){this.updatePosition(e),this.updateOpacity(),this.getDurationSinceCreation()>this.expirationDelay&&!this.hasCallExpirationCallback&&(this.onExpiration(),this.hasCallExpirationCallback=!0)}}]),e}();o.lastId=0,t.default=o},2406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lerp=function(e,t,n){return(1-n)*e+n*t},t.randomMinMax=function(e,t){return Math.random()*(t-e)+e}},2407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(7),o=(a=i)&&a.__esModule?a:{default:a},r=n(1333);var s={};t.default={renderBubble:function(e,t){!function(e){var t=e.context,n=e.id,a=e.x,i=e.y,u=e.radius,l=e.color,c=e.blur,d=e.opacity;if(!s[n]){var f=o.default.document.createElement("canvas"),h=f.getContext("2d");f.width=2*u+r.ANTI_ALIASING_MARGIN,f.height=2*u+r.ANTI_ALIASING_MARGIN,h.filter="blur("+c+"px)",h.fillStyle=l,h.beginPath(),h.arc(u+r.ANTI_ALIASING_MARGIN/2,u+r.ANTI_ALIASING_MARGIN/2,u,0,2*Math.PI,!0),h.fill(),s[n]=f}t.globalAlpha=d,t.drawImage(s[n],a-u-r.ANTI_ALIASING_MARGIN/2,i-u-r.ANTI_ALIASING_MARGIN/2)}({context:e,id:t.getId(),x:t.position.x,y:t.position.y,radius:t.radius,color:"rgb("+t.color.r+", "+t.color.g+", "+t.color.b+")",opacity:t.opacity,blur:t.blur})},deleteCachedCanvasById:function(e){delete s[e]}}},2408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(2)),i=u(n(311)),o=n(408),r=u(n(7)),s=u(n(1335));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=r.default.document.getElementById("footerWrapper");e&&i.default.render(a.default.createElement(o.OcTheme,null,a.default.createElement(s.default,{isLegacy:!0})),e)}},325:function(e,t,n){"use strict";var a=window.Modernizr;t.isTouch=function(){return a.touchevents}},356:function(e,t,n){"use strict";window._define("widgets/threadPost",["jquery","widgets/baseWidget"],function(e,t){return e.widget("OC.threadPost",t,{options:{},_create:function(){this._super(),this._attachEvents(),this.content=this.element.find(".js-post-content").html().trim()},_attachEvents:function(){var e=this;this.element.on("click",".js-action-quote",function(t){t.preventDefault(),e.quote()})},quote:function(){var t=e.extend(this.getData(),{action:"quote"});this._trigger("action",null,t)},getData:function(){return{author:this.element.find(".js-post-author").text().trim(),content:this.content}}}),e.OC.threadPost})},357:function(e,t,n){"use strict";window._define("widgets/messageList",["jquery","app/core","widgets/baseWidget"],function(e,t,n){return e.widget("OC.messageList",n,{options:{},_create:function(){this._super(),this.elements.$toggleAll=e(".js-list-msg-toggleall",this.element),this.elements.$selectedMsg=e(".js-list-msg-selectedtext",this.element),this.elements.$selectAll=e(".js-list-msg-selectalltext",this.element),this._attachEvents()},_attachEvents:function(){var t=this;e(this.element).on("click",".js-list-msg-selectalltext",function(){t.toggleMessages(!0)}).on("change",".js-list-msg-toggleall",function(){t.toggleMessages(e(this).is(":checked"))}).on("change",".js-list-msg-toggle",function(){var n=e(this);t.toggleMessages(n.is(":checked"),n.parents("tr"))})},_updateDisplay:function(){var e=this.getSelectedAmount(),t=e>0;this.element.toggleClass("list-msg--selected",t),this._updateSelectedText(),this._trigger("select",null,{amount:e})},_updateSelectedText:function(){var e=this.getSelectedAmount(),n=this.getItemAmount(),a=1===e?"<strong>1</strong> message sélectionné.":"<strong>"+e+"</strong> messages sélectionnés.";this.elements.$selectedMsg.html(a),this.elements.$selectAll.html(t.string.format(this.elements.$selectAll.html(),n)).toggle(e<n)},toggleMessages:function(t,n){n?n=e(n):(n=e("tbody tr",this.element),t&&this.elements.$toggleAll.prop("checked",!0)),n.toggleClass("list-msg__item--selected",t).find(".js-list-msg-toggle").prop("checked",t),this._updateDisplay()},getSelectedAmount:function(){return e(".js-list-msg-toggle:checked",this.element).length},getItemAmount:function(){return e("tbody tr",this.element).length}}),e.OC.messageList})},358:function(e,t,n){"use strict";window._define("modules/interventions",["jquery"],function(e){e(function(){e("#checkCreate").change(function(){e(this).parents("form").submit()})})})},359:function(e,t,n){"use strict";window._define("modules/postWrite",["jquery","common/pubsub","widgets/tagsSelect","bridge/modules/tinymce"],function(e,t,n,a){var i=null,o=function(t,n){var o=!1,r=[];n||(n=e(".js-wysiwyg-content")),n.each(function(t,n){e(n).is(":visible")&&(o=!0)}),n.length&&o&&(n.each(function(n,o){var s=e("textarea",o);a.isElementInited(s)?t():(s.prop("required",!1),i||(i=s),r.push(s))}),a.add(r,null,function(){e("#ThreadMessage_comments_0_wysiwyg_message,#Comment_wysiwyg_message").show().css({padding:0,minHeight:0,opacity:0,height:0,width:"100%"}).prop("required",!0),t&&t()}))},r=function(t,n){var r=e(".js-write-thread-form").eq(0);r.is(":visible")||r.addClass("write-thread-form--opened"),o(function(){t&&(a.getInstance(i).setContent(t),(n||e.noop)())}),function(t){e("html, body").animate({scrollTop:t.offset().top},250)}(r)};e(function(){var t,a;document.location.pathname.match(/\/mp\//)&&(o(),t=e(".js-user-select").parent().find("label"),a={dataMap:{label:"username",value:"username",icon:"avatar"},itemTemplate:'<a>  <img class="thumbnail" src="<%= avatar %>"/>  <span><%= username %></span></a>',change:function(){var n=e(this).tagsSelect("getItems").length;t.text(t.data("i18n")[n<2?0:1])},select:function(e,t){e.stopPropagation()}},e(".js-user-select").get(0)&&new n(a,e(".js-user-select")))}),t.Envoyer("thread.post.action",function(e,t){var n;switch(t.action){case"quote":i&&r(i.val()+("<blockquote><cite>"+(n=t).author+" a écrit:</cite><div>"+n.content+"</div></blockquote>"),function(){var e,t=a.getInstance(i),n=tinymce.DOM.uniqueId();t.dom.add(t.getBody(),"span",{id:n},'<br data-mce-bogus="1" />'),e=t.dom.select("span#"+n),t.selection.select(e[0]),t.focus()});break;case"post-errors":case"new":r()}})})},360:function(e,t,n){"use strict";window._define("modules/postsList",["jquery","common/pubsub","widgets/threadPost"],function(e,t,n){e(function(){var a,i;a=e(".js-thread-post"),i={action:function(e,n){t.publish("thread.post.action",n)}},a.each(function(e,t){new n(i,t)}),e(".js-threadpost-new").on("click",function(){t.publish("thread.post.action",{action:"new"})}),e(".oc-form .error").length>0&&t.publish("thread.post.action",{action:"post-errors"})})})},361:function(e,t,n){"use strict";window._define("modules/pm-list",["jquery","app/core","modules/confirm","common/commands","common/pubsub"],function(e,t,n,a,i){var o=e("html").attr("lang");a.execute("registerAnchor",["/new",function(){e(function(){i.publish("thread.post.action",{action:"new"})})}]),e(function(){var a=e(".js-pm-actions"),i=e(".js-list-msg");i.messageList({select:function(n,i){var r,s,u,l;r=a,s=i.amount,"fr"===o?(u=1===s?"Supprimer ce message":"Supprimer {0} messages",l=1===s?"Êtes-vous sûr de vouloir supprimer ce message privé&nbsp;?":"Êtes-vous sûr de vouloir supprimer ces {0}&nbsp;messages privés&nbsp;?"):(u=1===s?"Delete this message":"Delete {0} messages",l=1===s?"Are you sure you want to delete this message?":"Are you sure you want to delete those {0}&nbsp;messages?"),r.toggleClass("pm-actions--can-delete",!!s),e(".js-pm-actions-delete-txt").text(t.string.format(u,s)),e(".js-confirm-pm-delete").data("message",t.string.format(l,s))}}),e(".js-confirm-pm-delete").on("click",function(){n.show({element:this,confirmCallback:function(){i.closest("form").submit()}})})})})},623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closePopin=function(){o.default.fancybox.close()},t.repositionPopin=function(){o.default.fancybox.reposition()},t.openPopin=l,t.openLoginPopin=function(){l("#popin-log-in")},t.openRegisterPopin=function(){l("#popin-sign-in")};var a,i=n(0),o=(a=i)&&a.__esModule?a:{default:a};var r=n(624),s=n(35),u=n(320);function l(e,t){var n,a,i,l=(0,o.default)(e),c=o.default.extend({},{modal:!1,activatorElement:null},t);l.hasClass("popin")&&(l.find(".js-popin-hidden-content").hide(),c.activatorElement&&(n=c.activatorElement,a=l,i=(0,o.default)(n).data("popin-shownparts"),(0,o.default)(i,a)).show(),(0,o.default)("body").css("overflow-y","hidden"),o.default.fancybox(l,{openEffect:"none",closeEffect:"none",padding:0,margin:s.getCurrent()===s.SCREEN_WIDTH_SMALL?4:20,title:l.data("popin-title"),modal:c.modal,afterClose:function(){l.attr("aria-hidden",!0),r.untrap(l),c.activatorElement&&(0,o.default)(c.activatorElement).focus(),(0,o.default)("body").css("overflow-y","initial")},afterLoad:function(){var e=(0,o.default)(".js-close-button",this.content);c.modal?e.remove():e.on("click",function(e){var t=(0,o.default)(this).attr("href");t&&"#"!==t||e.preventDefault(),o.default.fancybox.close()})},afterShow:function(){l.attr("aria-hidden",!1),l.is(':data("OC-popin")')?l.popin("resize"):u.create(l),r.trap(l),c.modal&&(0,o.default)("input, a",this.content).first().focus()}}))}},624:function(e,t,n){"use strict";var a=n(0),i=null;function o(e){a.contains(i[0],e.target)||i[0]===e.target||(e.stopPropagation(),i.focus())}function r(){document.removeEventListener("focus",o,!0)}e.exports={trap:function(e,t){var n=a(e),s=t||{},u=s.elementToFocus?a(s.elementToFocus):n;r(),n.attr("tabindex","-1"),u.focus(),i=n,document.addEventListener("focus",o,!0)},untrap:r}},625:function(e,t,n){"use strict";var a=n(487).default,i={EVENT_STARTED_VIDEO:"Started Video",EVENT_VIEW_BEGINNING_VIDEO:"Viewed beginning Video",EVENT_STOPPED_VIDEO:"Stopped Video",EVENT_VIEWED_ELEMENT:"Viewed Element",EVENT_HITS_DISPLAYED:"Hits displayed",WANTED_TO_CONTACT_US:"Wanted to Contact Us"};i.Envoyer=a.get().Envoyer,i.publish=a.get().publish,e.exports=i},93:function(e,t,n){"use strict";var a,i=n(18).default;void 0!==window.App&&window.App.modules?(a=window.App.modules.getInstance("modules/confirm")).injectTranslator(i._):a={show:function(){throw new Error("confirm service was not correctly initialized.")}},e.exports=a},995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishEnterViewportForElement=function(e,t){a.default.create(e).one("enterViewport",function(){i.default.publish(i.default.EVENT_VIEWED_ELEMENT,{name:e.id,data:t||{}})})},t.add=function(e){return a.default.create(e)};var a=o(n(316)),i=o(n(625));function o(e){return e&&e.__esModule?e:{default:e}}},999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableCopyToElement=o,t.isEnabled=r;var a=void 0;function i(){var e=this.getAttribute("data-clipboard-text"),t=document.createElement("textarea");t.value=e,t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style.color="transparent",t.style.backgroundColor="transparent",t.setAttribute("readonly",""),this.parentNode.insertBefore(t,this),t.focus(),t.setSelectionRange(0,e.length),document.execCommand("copy"),this.parentNode.removeChild(t)}function o(e,t){e.setAttribute("data-clipboard-text",t),e.removeEventListener("click",i),e.addEventListener("click",i)}function r(){return void 0===a&&(a=!(!document.queryCommandSupported||!document.queryCommandSupported("copy"))),a}t.default={enableCopyToElement:o,isEnabled:r}}}]);
//# sourceMappingURL=commonOld.ab27f0984c378ae7a739.js.map